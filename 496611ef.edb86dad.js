(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{153:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return i})),t.d(a,"metadata",(function(){return o})),t.d(a,"rightToc",(function(){return l})),t.d(a,"default",(function(){return b}));var n=t(1),r=t(9),c=(t(0),t(184)),i={title:"Angular Schematics"},o={id:"angular/schematics",title:"Angular Schematics",description:"> Scaffolding library for Angular applications using Akita.",source:"@site/docs/angular/schematics.mdx",permalink:"/akita/docs/angular/schematics",editUrl:"https://github.com/datorama/akita/edit/master/docs/docs/angular/schematics.mdx",sidebar:"docs",previous:{title:"Angular Forms Manager",permalink:"/akita/docs/angular/forms-manager"},next:{title:"HMR",permalink:"/akita/docs/angular/hmr"}},l=[{value:"Default Schematics Collection",id:"default-schematics-collection",children:[]},{value:"Create a New Feature",id:"create-a-new-feature",children:[{value:"Generate a Store",id:"generate-a-store",children:[]},{value:"Generate a Query",id:"generate-a-query",children:[]},{value:"Generate a Model",id:"generate-a-model",children:[]},{value:"Generate a Service",id:"generate-a-service",children:[]},{value:"Generate an NgEntityService",id:"generate-an-ngentityservice",children:[]},{value:"Generate Tests",id:"generate-tests",children:[]},{value:"Generate Module",id:"generate-module",children:[]}]}],s={rightToc:l};function b(e){var a=e.components,t=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(n.a)({},s,t,{components:a,mdxType:"MDXLayout"}),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"Scaffolding library for Angular applications using Akita.")),Object(c.b)("p",null,"Schematics provides CLI commands for generating files when building new features with Akita. Built on top of Schematics, this tool integrates with the Angular CLI."),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"ng add @datorama/akita\n")),Object(c.b)("h2",{id:"default-schematics-collection"},"Default Schematics Collection"),Object(c.b)("p",null,"To use ",Object(c.b)("inlineCode",{parentName:"p"},"@datorama/akita")," as the default collection in your Angular CLI project, add it to your ",Object(c.b)("inlineCode",{parentName:"p"},"angular.json"),":"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"ng config cli.defaultCollection @datorama/akita\n")),Object(c.b)("p",null,"The package extend the default ",Object(c.b)("inlineCode",{parentName:"p"},"@schematics/angular")," collection. If you want to set defaults for schematics such as generating components with ",Object(c.b)("inlineCode",{parentName:"p"},"scss")," file, you must change the schematics package name from ",Object(c.b)("inlineCode",{parentName:"p"},"@schematics/angular")," to ",Object(c.b)("inlineCode",{parentName:"p"},"@datorama/akita")," in ",Object(c.b)("inlineCode",{parentName:"p"},"angular.json"),":"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json",metastring:'title="angular.json"',title:'"angular.json"'}),'"schematics": {\n  "@datorama/akita:component": {\n    "styleext": "scss"\n  }\n}\n')),Object(c.b)("h2",{id:"create-a-new-feature"},"Create a New Feature"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"ng g @datorama/akita:feature todos/todos\n")),Object(c.b)("p",null,"The defauls feature will output an entity feature, you can choose between different kind of ",Object(c.b)("inlineCode",{parentName:"p"},"EntityService"),":"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Default: A regular service with CRUD boilerplate."),Object(c.b)("li",{parentName:"ul"},"Http: A ",Object(c.b)("inlineCode",{parentName:"li"},"NgEntityService")," powered by the HttpClient (requires ",Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"entity-service"}),"@datorama/akita-ng-entity-service"),")."),Object(c.b)("li",{parentName:"ul"},"Firebase: A ",Object(c.b)("inlineCode",{parentName:"li"},"CollectionService")," powered by AngularFirestore (requires ",Object(c.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/dappsnation/akita-ng-fire"}),"akita-ng-fire"),").")),Object(c.b)("p",null,"You can also generate the normal feature with the ",Object(c.b)("inlineCode",{parentName:"p"},"plain")," option:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"ng g @datorama/akita:feature auth/auth --plain\n")),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"The akita-schematics: prefix is only needed when the default collection isn't set to akita-schematics"))),Object(c.b)("h3",{id:"generate-a-store"},"Generate a Store"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"ng g @datorama/akita:as todos\nng g @datorama/akita:aes todos // entity store\n")),Object(c.b)("h3",{id:"generate-a-query"},"Generate a Query"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"ng g @datorama/akita:query todos\nng g @datorama/akita:entity-query todos\n\nAlias:\nng g @datorama/akita:aq todos\nng g @datorama/akita:aeq todos // entity query\n")),Object(c.b)("h3",{id:"generate-a-model"},"Generate a Model"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"ng g @datorama/akita:model todo\n\nAlias:\nng g @datorama/akita:am todo\n")),Object(c.b)("h3",{id:"generate-a-service"},"Generate a Service"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"ng g @datorama/akita:service todos\n\nAlias:\nng g @datorama/akita:asr todos\n")),Object(c.b)("h3",{id:"generate-an-ngentityservice"},"Generate an NgEntityService"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"ng g @datorama/akita:http-entity-service todos\n\nAlias:\nng g @datorama/akita:ahes todos\n")),Object(c.b)("h3",{id:"generate-tests"},"Generate Tests"),Object(c.b)("p",null,"Add the ",Object(c.b)("inlineCode",{parentName:"p"},"--spec")," option. For example:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"ng g af products/products --spec\n")),Object(c.b)("h3",{id:"generate-module"},"Generate Module"),Object(c.b)("p",null,"Add the ",Object(c.b)("inlineCode",{parentName:"p"},"--withModule")," to generate module and Akita component. (only for entity store)"))}b.isMDXComponent=!0},184:function(e,a,t){"use strict";t.d(a,"a",(function(){return u})),t.d(a,"b",(function(){return m}));var n=t(0),r=t.n(n);function c(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){c(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=r.a.createContext({}),b=function(e){var a=r.a.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):o({},a,{},e)),t},u=function(e){var a=b(e.components);return r.a.createElement(s.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},p=Object(n.forwardRef)((function(e,a){var t=e.components,n=e.mdxType,c=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=b(t),p=n,m=u["".concat(i,".").concat(p)]||u[p]||d[p]||c;return t?r.a.createElement(m,o({ref:a},s,{components:t})):r.a.createElement(m,o({ref:a},s))}));function m(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var c=t.length,i=new Array(c);i[0]=p;var o={};for(var l in a)hasOwnProperty.call(a,l)&&(o[l]=a[l]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var s=2;s<c;s++)i[s]=t[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"}}]);