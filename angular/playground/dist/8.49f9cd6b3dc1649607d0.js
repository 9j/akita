(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"Z/xj":function(l,n,t){"use strict";t.r(n);var u=t("CcnG"),e=function(l){return l.SHOW_COMPLETED="SHOW_COMPLETED",l.SHOW_ACTIVE="SHOW_ACTIVE",l.SHOW_ALL="SHOW_ALL",l}({}),o=[{label:"All",value:e.SHOW_ALL},{label:"Completed",value:e.SHOW_COMPLETED},{label:"Active",value:e.SHOW_ACTIVE}],i=t("mrSG"),c=t("ynsh"),r=function(l){function n(){return l.call(this,{ui:{filter:e.SHOW_ALL}})||this}return Object(i.c)(n,l),n.ngInjectableDef=u.Qb({factory:function(){return new n},token:n,providedIn:"root"}),n=Object(i.b)([Object(c.l)({name:"todos"})],n)}(c.d),s=t("3riI"),a=t("Jg5f"),b=function(l){function n(n){var t=l.call(this,n)||this;return t.store=n,t.selectVisibilityFilter$=t.select(function(l){return l.ui.filter}),t.selectVisibleTodos$=Object(s.a)(t.selectVisibilityFilter$,t.selectAll()).pipe(Object(a.a)(function(l){return t.getVisibleTodos(l[0],l[1])})),t.checkAll$=t.selectCount(function(l){return l.completed}),t}return Object(i.c)(n,l),n.prototype.getVisibleTodos=function(l,n){switch(l){case e.SHOW_COMPLETED:return n.filter(function(l){return l.completed});case e.SHOW_ACTIVE:return n.filter(function(l){return!l.completed});default:return n}},n.ngInjectableDef=u.Qb({factory:function(){return new n(u.Rb(r))},token:n,providedIn:"root"}),n}(c.i),d=function(){function l(l){this.todosStore=l}return l.prototype.updateFilter=function(l){this.todosStore.update({ui:{filter:l}})},l.prototype.complete=function(l){this.todosStore.update(l.id,{completed:l.completed})},l.prototype.add=function(l){var n=function(l){return{id:Object(c.s)(),title:l,completed:!1}}(l);this.todosStore.add(n)},l.prototype.delete=function(l){this.todosStore.remove(l)},l.prototype.checkAll=function(l){this.todosStore.update(null,{completed:l})},l.prototype.move=function(l){console.log("TCL: move -> index",l),this.todosStore.move(l,l-1)},l.ngInjectableDef=u.Qb({factory:function(){return new l(u.Rb(r))},token:l,providedIn:"root"}),Object(i.b)([Object(c.m)("Update filter"),Object(i.d)("design:type",Function),Object(i.d)("design:paramtypes",[String]),Object(i.d)("design:returntype",void 0)],l.prototype,"updateFilter",null),l}(),p=function(){return(p=Object.assign||function(l){for(var n,t=1,u=arguments.length;t<u;t++)for(var e in n=arguments[t])Object.prototype.hasOwnProperty.call(n,e)&&(l[e]=n[e]);return l}).apply(this,arguments)},f=function(){function l(l,n){this.todosQuery=l,this.todosService=n,this.filters=o}return l.prototype.ngOnInit=function(){var l=this;this.todos$=this.todosQuery.selectVisibleTodos$,this.activeFilter$=this.todosQuery.selectVisibilityFilter$,this.checkAll$=this.todosQuery.checkAll$.pipe(Object(a.a)(function(n){return n&&n===l.todosQuery.getCount()})),this.stateHistory=new c.j(this.todosQuery),this.stateHistoryEntity=new c.c(this.todosQuery)},l.prototype.moveUp=function(l){this.todosService.move(l)},l.prototype.undo=function(l){Object(c.t)(l)?this.stateHistory.undo():this.stateHistoryEntity.undo(l)},l.prototype.redo=function(l){Object(c.t)(l)?this.stateHistory.redo():this.stateHistoryEntity.redo(l)},l.prototype.add=function(l){this.todosService.add(l.value),l.value=""},l.prototype.complete=function(l){this.stateHistory.ignoreNext(),this.todosService.complete(l)},l.prototype.complete2=function(l,n){var t=p({},n,{completed:l.target.checked});this.todosService.complete(t)},l.prototype.delete=function(l){this.todosService.delete(l)},l.prototype.changeFilter=function(l){this.todosService.updateFilter(l)},l.prototype.checkAll=function(l){this.todosService.checkAll(l.target.checked)},l.prototype.trackBy=function(l,n){return n.id},l}(),h=function(){return function(){}}(),m=t("pMnS"),g=t("gIcY"),v=t("Ip0R"),y=t("VwhB"),O=function(){function l(){this.update=new u.m}return Object.defineProperty(l.prototype,"active",{set:function(l){this._active=l,this.control&&this.control.patchValue(l,{emitEvent:!1})},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var l=this;this.control=new g.f(this._active),this.control.valueChanges.pipe(Object(y.a)(this)).subscribe(function(n){l.update.emit(n)})},l.prototype.ngOnDestroy=function(){},l}(),k=u.qb({encapsulation:2,styles:[],data:{}});function C(l){return u.Nb(0,[(l()(),u.sb(0,0,null,null,3,"option",[],null,null,null,null,null)),u.rb(1,147456,null,0,g.n,[u.k,u.D,[2,g.p]],{ngValue:[0,"ngValue"]},null),u.rb(2,147456,null,0,g.t,[u.k,u.D,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),u.Lb(3,null,[""," "]))],function(l,n){l(n,1,0,n.context.$implicit.value),l(n,2,0,n.context.$implicit.value)},function(l,n){l(n,3,0,n.context.$implicit.label)})}function E(l){return u.Nb(2,[(l()(),u.sb(0,0,null,null,8,"div",[["class","input-field col s12"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,7,"select",[["class","browser-default"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,t){var e=!0;return"change"===n&&(e=!1!==u.Eb(l,2).onChange(t.target.value)&&e),"blur"===n&&(e=!1!==u.Eb(l,2).onTouched()&&e),e},null,null)),u.rb(2,16384,null,0,g.p,[u.D,u.k],null,null),u.Ib(1024,null,g.j,function(l){return[l]},[g.p]),u.rb(4,540672,null,0,g.g,[[8,null],[8,null],[6,g.j],[2,g.s]],{form:[0,"form"]},null),u.Ib(2048,null,g.k,null,[g.g]),u.rb(6,16384,null,0,g.l,[[4,g.k]],null,null),(l()(),u.hb(16777216,null,null,1,null,C)),u.rb(8,278528,null,0,v.j,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var t=n.component;l(n,4,0,t.control),l(n,8,0,t.filters)},function(l,n){l(n,1,0,u.Eb(n,6).ngClassUntouched,u.Eb(n,6).ngClassTouched,u.Eb(n,6).ngClassPristine,u.Eb(n,6).ngClassDirty,u.Eb(n,6).ngClassValid,u.Eb(n,6).ngClassInvalid,u.Eb(n,6).ngClassPending)})}var j=function(){return(j=Object.assign||function(l){for(var n,t=1,u=arguments.length;t<u;t++)for(var e in n=arguments[t])Object.prototype.hasOwnProperty.call(n,e)&&(l[e]=n[e]);return l}).apply(this,arguments)},L=function(){function l(){this.complete=new u.m,this.delete=new u.m}return l.prototype.ngOnInit=function(){var l=this;this.control=new g.f(this.todo.completed),this.control.valueChanges.pipe(Object(y.a)(this)).subscribe(function(n){l.complete.emit(j({},l.todo,{completed:n}))})},l.prototype.ngOnDestroy=function(){},l}(),w=u.qb({encapsulation:2,styles:[],data:{}});function S(l){return u.Nb(2,[(l()(),u.sb(0,0,null,null,13,"div",[["class","flex align-center sb"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,9,"div",[["class","flex"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,7,"label",[],null,null,null,null,null)),(l()(),u.sb(3,0,null,null,5,"input",[["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,t){var e=!0;return"change"===n&&(e=!1!==u.Eb(l,4).onChange(t.target.checked)&&e),"blur"===n&&(e=!1!==u.Eb(l,4).onTouched()&&e),e},null,null)),u.rb(4,16384,null,0,g.b,[u.D,u.k],null,null),u.Ib(1024,null,g.j,function(l){return[l]},[g.b]),u.rb(6,540672,null,0,g.g,[[8,null],[8,null],[6,g.j],[2,g.s]],{form:[0,"form"]},null),u.Ib(2048,null,g.k,null,[g.g]),u.rb(8,16384,null,0,g.l,[[4,g.k]],null,null),(l()(),u.sb(9,0,null,null,0,"span",[],null,null,null,null,null)),(l()(),u.Lb(10,null,[" "," "])),(l()(),u.sb(11,0,null,null,2,"a",[["class","btn waves-effect waves-light red btn-small btn-floating"]],null,null,null,null,null)),(l()(),u.sb(12,0,null,null,1,"i",[["class","material-icons"]],null,[[null,"click"]],function(l,n,t){var u=!0,e=l.component;return"click"===n&&(u=!1!==e.delete.emit(e.todo.id)&&u),u},null,null)),(l()(),u.Lb(-1,null,["delete_forever"]))],function(l,n){l(n,6,0,n.component.control)},function(l,n){var t=n.component;l(n,3,0,u.Eb(n,8).ngClassUntouched,u.Eb(n,8).ngClassTouched,u.Eb(n,8).ngClassPristine,u.Eb(n,8).ngClassDirty,u.Eb(n,8).ngClassValid,u.Eb(n,8).ngClassInvalid,u.Eb(n,8).ngClassPending),l(n,10,0,t.todo.title)})}var x=function(){return function(){this.complete=new u.m,this.delete=new u.m}}(),$=u.qb({encapsulation:2,styles:[],data:{}});function H(l){return u.Nb(0,[(l()(),u.sb(0,0,null,null,1,"app-todo",[["class","collection-item"]],null,[[null,"delete"],[null,"complete"]],function(l,n,t){var u=!0,e=l.component;return"delete"===n&&(u=!1!==e.delete.emit(t)&&u),"complete"===n&&(u=!1!==e.complete.emit(t)&&u),u},S,w)),u.rb(1,245760,null,0,L,[],{todo:[0,"todo"]},{complete:"complete",delete:"delete"})],function(l,n){l(n,1,0,n.context.$implicit)},null)}function T(l){return u.Nb(2,[(l()(),u.sb(0,0,null,null,4,"div",[["class","collection with-header"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"h4",[["class","collection-header"]],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Todos:"])),(l()(),u.hb(16777216,null,null,1,null,H)),u.rb(4,278528,null,0,v.j,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,4,0,n.component.todos)},null)}var I=u.qb({encapsulation:0,styles:[[""]],data:{}});function F(l){return u.Nb(0,[(l()(),u.sb(0,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u.Lb(2,null,["",""])),(l()(),u.sb(3,0,null,null,1,"td",[],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.moveUp(l.context.index)&&u),u},null,null)),(l()(),u.Lb(4,null,["",""])),(l()(),u.sb(5,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(6,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),u.sb(7,0,null,null,0,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],function(l,n,t){var u=!0;return"change"===n&&(u=!1!==l.component.complete2(t,l.context.$implicit)&&u),u},null,null)),(l()(),u.sb(8,0,null,null,0,"span",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(10,0,null,null,2,"a",[["class","btn-floating"]],[[2,"disabled",null]],null,null,null,null)),(l()(),u.sb(11,0,null,null,1,"i",[["class","material-icons"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.undo(l.context.$implicit.id)&&u),u},null,null)),(l()(),u.Lb(-1,null,["undo"])),(l()(),u.sb(13,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.sb(14,0,null,null,2,"a",[["class","btn-floating"]],[[2,"disabled",null]],null,null,null,null)),(l()(),u.sb(15,0,null,null,1,"i",[["class","material-icons"]],null,[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.redo(l.context.$implicit.id)&&u),u},null,null)),(l()(),u.Lb(-1,null,["redo"]))],null,function(l,n){var t=n.component;l(n,2,0,n.context.$implicit.id),l(n,4,0,n.context.$implicit.title),l(n,7,0,n.context.$implicit.completed),l(n,10,0,!t.stateHistoryEntity.hasPast(n.context.$implicit.id)),l(n,14,0,!t.stateHistoryEntity.hasFuture(n.context.$implicit.id))})}function A(l){return u.Nb(0,[(l()(),u.sb(0,0,null,null,24,"div",[["class","padding"]],null,null,null,null,null)),(l()(),u.sb(1,0,null,null,3,"div",[["class","input-field"]],null,null,null,null,null)),(l()(),u.sb(2,0,null,null,1,"i",[["class","material-icons prefix"]],null,null,null,null,null)),(l()(),u.Lb(-1,null,["add_alarm"])),(l()(),u.sb(4,0,[["input",1]],null,0,"input",[["class","form-control"],["placeholder","Add Todo..."],["type","text"]],null,[[null,"keydown.enter"]],function(l,n,t){var e=!0;return"keydown.enter"===n&&(e=!1!==l.component.add(u.Eb(l,4))&&e),e},null,null)),(l()(),u.sb(5,0,null,null,2,"app-todos-filters",[],null,[[null,"update"]],function(l,n,t){var u=!0;return"update"===n&&(u=!1!==l.component.changeFilter(t)&&u),u},E,k)),u.rb(6,245760,null,0,O,[],{active:[0,"active"],filters:[1,"filters"]},{update:"update"}),u.Gb(131072,v.b,[u.h]),(l()(),u.sb(8,0,null,null,4,"label",[],null,null,null,null,null)),(l()(),u.sb(9,0,null,null,1,"input",[["type","checkbox"]],[[8,"checked",0]],[[null,"change"]],function(l,n,t){var u=!0;return"change"===n&&(u=!1!==l.component.checkAll(t)&&u),u},null,null)),u.Gb(131072,v.b,[u.h]),(l()(),u.sb(11,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Select All"])),(l()(),u.sb(13,0,null,null,2,"app-todos",[],null,[[null,"delete"],[null,"complete"]],function(l,n,t){var u=!0,e=l.component;return"delete"===n&&(u=!1!==e.delete(t)&&u),"complete"===n&&(u=!1!==e.complete(t)&&u),u},T,$)),u.rb(14,49152,null,0,x,[],{todos:[0,"todos"]},{complete:"complete",delete:"delete"}),u.Gb(131072,v.b,[u.h]),(l()(),u.sb(16,0,null,null,8,"div",[["class","flex align-center"]],null,null,null,null,null)),(l()(),u.sb(17,0,null,null,3,"button",[["class","btn waves-effect waves-light"]],[[2,"disabled",null]],[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.undo()&&u),u},null,null)),(l()(),u.Lb(-1,null,["Undo "])),(l()(),u.sb(19,0,null,null,1,"i",[["class","material-icons right"]],null,null,null,null,null)),(l()(),u.Lb(-1,null,["undo"])),(l()(),u.sb(21,0,null,null,3,"button",[["class","btn waves-effect waves-light"]],[[2,"disabled",null]],[[null,"click"]],function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.redo()&&u),u},null,null)),(l()(),u.Lb(-1,null,["Redo "])),(l()(),u.sb(23,0,null,null,1,"i",[["class","material-icons right"]],null,null,null,null,null)),(l()(),u.Lb(-1,null,["redo"])),(l()(),u.sb(25,0,null,null,19,"section",[["class","padding"]],null,null,null,null,null)),(l()(),u.sb(26,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Todos - Entity History"])),(l()(),u.sb(28,0,null,null,16,"table",[],null,null,null,null,null)),(l()(),u.sb(29,0,null,null,11,"thead",[],null,null,null,null,null)),(l()(),u.sb(30,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),u.sb(31,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Id"])),(l()(),u.sb(33,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Title"])),(l()(),u.sb(35,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Completed"])),(l()(),u.sb(37,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Undo"])),(l()(),u.sb(39,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),u.Lb(-1,null,["Redo"])),(l()(),u.sb(41,0,null,null,3,"tbody",[],null,null,null,null,null)),(l()(),u.hb(16777216,null,null,2,null,F)),u.rb(43,278528,null,0,v.j,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),u.Gb(131072,v.b,[u.h])],function(l,n){var t=n.component;l(n,6,0,u.Mb(n,6,0,u.Eb(n,7).transform(t.activeFilter$)),t.filters),l(n,14,0,u.Mb(n,14,0,u.Eb(n,15).transform(t.todos$))),l(n,43,0,u.Mb(n,43,0,u.Eb(n,44).transform(t.todos$)),t.trackBy)},function(l,n){var t=n.component;l(n,9,0,u.Mb(n,9,0,u.Eb(n,10).transform(t.checkAll$))),l(n,17,0,!t.stateHistory.hasPast),l(n,21,0,!t.stateHistory.hasFuture)})}function V(l){return u.Nb(0,[(l()(),u.sb(0,0,null,null,1,"app-todos-page",[],null,null,null,A,I)),u.rb(1,114688,null,0,f,[b,d],null,null)],function(l,n){l(n,1,0)},null)}var _=u.ob("app-todos-page",f,V,{},{},[]),D=t("ZYCi");t.d(n,"TodosModuleNgFactory",function(){return P});var P=u.pb(h,[],function(l){return u.Bb([u.Cb(512,u.j,u.ab,[[8,[m.a,_]],[3,u.j],u.x]),u.Cb(4608,v.m,v.l,[u.u,[2,v.v]]),u.Cb(4608,g.e,g.e,[]),u.Cb(4608,g.r,g.r,[]),u.Cb(1073742336,v.c,v.c,[]),u.Cb(1073742336,g.q,g.q,[]),u.Cb(1073742336,g.o,g.o,[]),u.Cb(1073742336,D.o,D.o,[[2,D.t],[2,D.k]]),u.Cb(1073742336,h,h,[]),u.Cb(1024,D.i,function(){return[[{path:"",component:f}]]},[])])})}}]);